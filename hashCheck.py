import os
import hashlib
import sys
from pathlib import Path

filesDirectory = sys.argv[1]


def sha256sum(filename):
    with open(filename, "rb") as f:
        bytes = f.read()  # read entire file as bytes
        readable_hash = hashlib.sha256(bytes).hexdigest()
        return readable_hash


if (len(sys.argv) == 2):
    fileList = os.listdir(filesDirectory)
    for file in fileList:
        filePath = './results/'+file
        if (sha256sum(filePath) == Path(filePath).stem):
            print(file, '--File Hash Matched!')
        else:
            print(file, '--File Hash Not Matched')
else:
    print('Invalid Number of Arguments')
